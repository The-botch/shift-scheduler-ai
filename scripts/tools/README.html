<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
      color: #333;
    }
    h1 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
    }
    h2 {
      color: #2980b9;
      margin-top: 40px;
      padding: 10px;
      background: #ecf0f1;
      border-radius: 5px;
    }
    h3 {
      color: #27ae60;
      margin-top: 25px;
    }
    .tool-card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .tool-card h3 {
      margin-top: 0;
      color: #e74c3c;
    }
    code {
      background: #2c3e50;
      color: #ecf0f1;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.9em;
    }
    pre {
      background: #2c3e50;
      color: #ecf0f1;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.85em;
    }
    pre code {
      background: none;
      padding: 0;
    }
    .warning {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 15px 0;
      border-radius: 0 5px 5px 0;
    }
    .info {
      background: #d1ecf1;
      border-left: 4px solid #17a2b8;
      padding: 15px;
      margin: 15px 0;
      border-radius: 0 5px 5px 0;
    }
    .success {
      background: #d4edda;
      border-left: 4px solid #28a745;
      padding: 15px;
      margin: 15px 0;
      border-radius: 0 5px 5px 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
      background: white;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }
    th {
      background: #3498db;
      color: white;
    }
    tr:nth-child(even) { background: #f9f9f9; }
    .option { color: #9b59b6; font-weight: bold; }
    .required { color: #e74c3c; }
    .optional { color: #7f8c8d; }
  </style>
</head>
<body>

<h1>ğŸ› ï¸ ã‚·ãƒ•ãƒˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰</h1>

<div class="info">
  <strong>ğŸ“ ä¿å­˜å ´æ‰€:</strong> <code>scripts/tools/</code><br>
  <strong>ğŸ”Œ æ¥ç¶šå…ˆ:</strong> STGç’°å¢ƒï¼ˆRailwayï¼‰<br>
  <strong>ğŸ¢ å¯¾è±¡ãƒ†ãƒŠãƒ³ãƒˆ:</strong> tenant_id = 3
</div>

<h2>ğŸ“‹ ãƒ„ãƒ¼ãƒ«ä¸€è¦§</h2>

<table>
  <tr>
    <th>ãƒ„ãƒ¼ãƒ«å</th>
    <th>ãƒ•ã‚¡ã‚¤ãƒ«</th>
    <th>ç”¨é€”</th>
  </tr>
  <tr>
    <td>å¸Œæœ›ã‚·ãƒ•ãƒˆç”Ÿæˆ</td>
    <td><code>generate-random-preferences.mjs</code></td>
    <td>ã‚¹ã‚¿ãƒƒãƒ•ã®å¸Œæœ›ã‚·ãƒ•ãƒˆï¼ˆå‹¤å‹™å¸Œæœ›/NGæ—¥ï¼‰ã‚’ç”Ÿæˆ</td>
  </tr>
  <tr>
    <td>ç¬¬1æ¡ˆç”Ÿæˆ</td>
    <td><code>generate-first-plan.mjs</code></td>
    <td>ã‚·ãƒ•ãƒˆç¬¬1æ¡ˆï¼ˆFIRST Planï¼‰ã‚’ç”Ÿæˆ</td>
  </tr>
  <tr>
    <td>å®Ÿç¸¾ã‚·ãƒ•ãƒˆç”Ÿæˆ</td>
    <td><code>generate-actual-shifts.mjs</code></td>
    <td>ç¬¬1æ¡ˆã‚’ãƒ™ãƒ¼ã‚¹ã«å®Ÿç¸¾ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ</td>
  </tr>
  <tr>
    <td>ã‚¹ã‚¿ãƒƒãƒ•ç”Ÿæˆ</td>
    <td><code>generate-staff.mjs</code></td>
    <td>ãƒ€ãƒŸãƒ¼ã‚¹ã‚¿ãƒƒãƒ•ã‚’ç”Ÿæˆãƒ»å‰Šé™¤</td>
  </tr>
  <tr>
    <td>ãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ</td>
    <td><code>reset-data.mjs</code></td>
    <td>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤</td>
  </tr>
</table>

<h2>ğŸ”’ ãƒ„ãƒ¼ãƒ«ä½¿ç”¨å‰ã®æº–å‚™ï¼ˆé‡è¦ï¼‰</h2>

<div class="warning">
  <strong>âš ï¸ å¿…ãšãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã£ã¦ã‹ã‚‰ä½œæ¥­ã—ã¦ãã ã•ã„ï¼</strong><br>
  <code>--execute</code> ã‚„ <code>--delete</code> ã‚’ä½¿ã†å‰ã«ã€DBã®ãƒ€ãƒ³ãƒ—ã‚’å–å¾—ã—ã¦ãŠãã¨å®‰å¿ƒã§ã™ã€‚
</div>

<div class="tool-card">
  <h3>ğŸ“¦ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®å–ã‚Šæ–¹</h3>

  <h4>1. PostgreSQLã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®æº–å‚™ï¼ˆåˆå›ã®ã¿ï¼‰</h4>
  <pre><code># macOS (Homebrew)
arch -arm64 brew install postgresql@17

# ãƒ‘ã‚¹ã‚’é€šã™
export PATH="/opt/homebrew/opt/postgresql@17/bin:$PATH"</code></pre>

  <h4>2. ãƒ€ãƒ³ãƒ—ã‚’å–å¾—</h4>
  <pre><code># STGç’°å¢ƒã®ãƒ€ãƒ³ãƒ—ã‚’å–å¾—
PGPASSWORD=BWmHYBbEZqnptZRYmptockuomkHRWNPO pg_dump \
  -h switchyard.proxy.rlwy.net \
  -p 26491 \
  -U postgres \
  -d railway \
  -F c \
  -f backup_$(date +%Y%m%d_%H%M%S).dump

# ç¢ºèª
ls -la backup_*.dump</code></pre>

  <h4>3. ãƒªã‚¹ãƒˆã‚¢ï¼ˆå…ƒã«æˆ»ã™å ´åˆï¼‰</h4>
  <pre><code># ãƒ€ãƒ³ãƒ—ã‹ã‚‰ãƒªã‚¹ãƒˆã‚¢
PGPASSWORD=BWmHYBbEZqnptZRYmptockuomkHRWNPO pg_restore \
  -h switchyard.proxy.rlwy.net \
  -p 26491 \
  -U postgres \
  -d railway \
  --clean \
  --if-exists \
  backup_XXXXXXXX_XXXXXX.dump</code></pre>

  <div class="info">
    <strong>ğŸ’¡ ãƒ’ãƒ³ãƒˆ:</strong> ãƒ€ãƒ³ãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚<br>
    æ—¥ä»˜ä»˜ããƒ•ã‚¡ã‚¤ãƒ«åã§è¤‡æ•°ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ç®¡ç†ã§ãã¾ã™ã€‚
  </div>
</div>

<h2>âš™ï¸ å…±é€šã‚ªãƒ—ã‚·ãƒ§ãƒ³</h2>

<table>
  <tr>
    <th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th>
    <th>èª¬æ˜</th>
  </tr>
  <tr>
    <td><code class="option">--dry-run</code></td>
    <td>ç¢ºèªã®ã¿ï¼ˆDBã«æ›¸ãè¾¼ã¾ãªã„ï¼‰<strong>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</strong></td>
  </tr>
  <tr>
    <td><code class="option">--execute</code></td>
    <td>å®Ÿéš›ã«DBã«æ›¸ãè¾¼ã‚€</td>
  </tr>
  <tr>
    <td><code class="option">--delete</code></td>
    <td>æŒ‡å®šæ¡ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤</td>
  </tr>
  <tr>
    <td><code class="option">--help</code></td>
    <td>ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º</td>
  </tr>
</table>

<div class="warning">
  <strong>âš ï¸ æ³¨æ„:</strong> <code>--execute</code> ã‚„ <code>--delete</code> ã‚’ä»˜ã‘ãªã„é™ã‚Šã€DBã«ã¯ä½•ã‚‚æ›¸ãè¾¼ã¾ã‚Œã¾ã›ã‚“ã€‚<br>
  ã¾ãšã¯ <code>--dry-run</code>ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã§å†…å®¹ã‚’ç¢ºèªã—ã¦ã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
</div>

<!-- ãƒ„ãƒ¼ãƒ«1: å¸Œæœ›ã‚·ãƒ•ãƒˆç”Ÿæˆ -->
<div class="tool-card">
  <h3>â‘  å¸Œæœ›ã‚·ãƒ•ãƒˆç”Ÿæˆ (generate-random-preferences.mjs)</h3>

  <p>ã‚¹ã‚¿ãƒƒãƒ•ã®å¸Œæœ›ã‚·ãƒ•ãƒˆã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆã—ã¾ã™ã€‚</p>
  <ul>
    <li><strong>ç¤¾å“¡:</strong> NGæ—¥ï¼ˆä¼‘ã¿å¸Œæœ›ï¼‰ã‚’ç”Ÿæˆ</li>
    <li><strong>ã‚¢ãƒ«ãƒã‚¤ãƒˆ:</strong> å‹¤å‹™å¸Œæœ›æ—¥ï¼‹æ™‚é–“ã‚’ç”Ÿæˆ</li>
  </ul>

  <h4>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h4>
  <pre><code># ç¢ºèªã®ã¿ï¼ˆ2025å¹´1æœˆåˆ†ï¼‰
node scripts/tools/generate-random-preferences.mjs --year 2025 --month 1

# å®Ÿéš›ã«ç™»éŒ²
node scripts/tools/generate-random-preferences.mjs --year 2025 --month 1 --execute

# å‰Šé™¤
node scripts/tools/generate-random-preferences.mjs --year 2025 --month 1 --delete</code></pre>

  <h4>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</h4>
  <table>
    <tr><th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th><th>èª¬æ˜</th><th>ä¾‹</th></tr>
    <tr><td><code>--year</code></td><td class="required">å¯¾è±¡å¹´ï¼ˆå¿…é ˆï¼‰</td><td><code>--year 2025</code></td></tr>
    <tr><td><code>--month</code></td><td class="optional">å¯¾è±¡æœˆï¼ˆçœç•¥æ™‚: 1-12æœˆï¼‰</td><td><code>--month 1</code> / <code>--month 1-3</code></td></tr>
    <tr><td><code>--store</code></td><td class="optional">åº—èˆ—IDï¼ˆçœç•¥æ™‚: å…¨åº—èˆ—ï¼‰</td><td><code>--store 6</code> / <code>--store 6,7,8</code></td></tr>
    <tr><td><code>--staff</code></td><td class="optional">ã‚¹ã‚¿ãƒƒãƒ•ID</td><td><code>--staff 10,11,12</code></td></tr>
    <tr><td><code>--clear</code></td><td class="optional">æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰ç™»éŒ²</td><td></td></tr>
  </table>
</div>

<!-- ãƒ„ãƒ¼ãƒ«2: ç¬¬1æ¡ˆç”Ÿæˆ -->
<div class="tool-card">
  <h3>â‘¡ ç¬¬1æ¡ˆç”Ÿæˆ (generate-first-plan.mjs)</h3>

  <p>ã‚·ãƒ•ãƒˆç¬¬1æ¡ˆï¼ˆFIRST Planï¼‰ã‚’åº—èˆ—ã”ã¨ã«ç”Ÿæˆã—ã¾ã™ã€‚</p>
  <ul>
    <li>å¸Œæœ›ã‚·ãƒ•ãƒˆãŒã‚ã‚Œã°è€ƒæ…®ï¼ˆãªãã¦ã‚‚å‹•ä½œã—ã¾ã™ï¼‰</li>
    <li>åœŸæ—¥ã¯å¤šã‚ã€å¹³æ—¥ã¯å°‘ãªã‚ã«äººå“¡é…ç½®</li>
  </ul>

  <h4>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h4>
  <pre><code># ç¢ºèªã®ã¿ï¼ˆ2025å¹´1æœˆåˆ†ï¼‰
node scripts/tools/generate-first-plan.mjs --year 2025 --month 1

# å®Ÿéš›ã«ç™»éŒ²
node scripts/tools/generate-first-plan.mjs --year 2025 --month 1 --execute

# å‰Šé™¤
node scripts/tools/generate-first-plan.mjs --year 2025 --month 1 --delete</code></pre>

  <h4>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</h4>
  <table>
    <tr><th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th><th>èª¬æ˜</th><th>ä¾‹</th></tr>
    <tr><td><code>--year</code></td><td class="required">å¯¾è±¡å¹´ï¼ˆå¿…é ˆï¼‰</td><td><code>--year 2025</code></td></tr>
    <tr><td><code>--month</code></td><td class="required">å¯¾è±¡æœˆï¼ˆå¿…é ˆï¼‰</td><td><code>--month 1</code></td></tr>
    <tr><td><code>--store</code></td><td class="optional">åº—èˆ—IDï¼ˆçœç•¥æ™‚: å…¨åº—èˆ—ï¼‰</td><td><code>--store 6,7</code></td></tr>
    <tr><td><code>--clear</code></td><td class="optional">æ—¢å­˜ãƒ—ãƒ©ãƒ³ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰ç™»éŒ²</td><td></td></tr>
  </table>
</div>

<!-- ãƒ„ãƒ¼ãƒ«3: å®Ÿç¸¾ã‚·ãƒ•ãƒˆç”Ÿæˆ -->
<div class="tool-card">
  <h3>â‘¢ å®Ÿç¸¾ã‚·ãƒ•ãƒˆç”Ÿæˆ (generate-actual-shifts.mjs)</h3>

  <p>ç¬¬1æ¡ˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€å®Ÿç¸¾ã‚·ãƒ•ãƒˆï¼ˆACTUAL Planï¼‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚</p>
  <ul>
    <li>ä¸€å®šç¢ºç‡ã§æ¬ å‹¤ã‚’ç™ºç”Ÿ</li>
    <li>ä¸€å®šç¢ºç‡ã§æ™‚é–“å¤‰æ›´ï¼ˆæ®‹æ¥­å«ã‚€ï¼‰ã‚’ç™ºç”Ÿ</li>
  </ul>

  <div class="warning">
    <strong>å‰ææ¡ä»¶:</strong> ç¬¬1æ¡ˆï¼ˆFIRST Planï¼‰ãŒå­˜åœ¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
  </div>

  <h4>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h4>
  <pre><code># ç¢ºèªã®ã¿
node scripts/tools/generate-actual-shifts.mjs --year 2025 --month 1

# å®Ÿéš›ã«ç™»éŒ²ï¼ˆæ¬ å‹¤ç‡10%ã€æ™‚é–“å¤‰æ›´ç‡15%ï¼‰
node scripts/tools/generate-actual-shifts.mjs --year 2025 --month 1 --absence 10 --time-change 15 --execute

# å‰Šé™¤
node scripts/tools/generate-actual-shifts.mjs --year 2025 --month 1 --delete</code></pre>

  <h4>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</h4>
  <table>
    <tr><th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th><th>èª¬æ˜</th><th>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</th></tr>
    <tr><td><code>--year</code></td><td class="required">å¯¾è±¡å¹´ï¼ˆå¿…é ˆï¼‰</td><td>-</td></tr>
    <tr><td><code>--month</code></td><td class="required">å¯¾è±¡æœˆï¼ˆå¿…é ˆï¼‰</td><td>-</td></tr>
    <tr><td><code>--absence</code></td><td class="optional">æ¬ å‹¤ç‡ï¼ˆ%ï¼‰</td><td>5</td></tr>
    <tr><td><code>--time-change</code></td><td class="optional">æ™‚é–“å¤‰æ›´ç‡ï¼ˆ%ï¼‰</td><td>10</td></tr>
    <tr><td><code>--store</code></td><td class="optional">åº—èˆ—ID</td><td>å…¨åº—èˆ—</td></tr>
  </table>
</div>

<!-- ãƒ„ãƒ¼ãƒ«4: ã‚¹ã‚¿ãƒƒãƒ•ç”Ÿæˆ -->
<div class="tool-card">
  <h3>â‘£ ã‚¹ã‚¿ãƒƒãƒ•ç”Ÿæˆ (generate-staff.mjs)</h3>

  <p>ãƒ€ãƒŸãƒ¼ã®ã‚¹ã‚¿ãƒƒãƒ•ãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆãƒ»ç®¡ç†ã—ã¾ã™ã€‚</p>

  <h4>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h4>
  <pre><code># ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§ã‚’è¡¨ç¤º
node scripts/tools/generate-staff.mjs --list

# 10äººã®ã‚¹ã‚¿ãƒƒãƒ•ã‚’ç”Ÿæˆï¼ˆç¢ºèªã®ã¿ï¼‰
node scripts/tools/generate-staff.mjs --count 10

# åº—èˆ—6ã«5äººã®ã‚¢ãƒ«ãƒã‚¤ãƒˆã‚’ç™»éŒ²
node scripts/tools/generate-staff.mjs --count 5 --store 6 --type PART_TIME --execute

# ã‚¹ã‚¿ãƒƒãƒ•ã‚’å‰Šé™¤ï¼ˆIDæŒ‡å®šï¼‰
node scripts/tools/generate-staff.mjs --delete --staff 100,101,102 --execute</code></pre>

  <h4>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</h4>
  <table>
    <tr><th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th><th>èª¬æ˜</th><th>ä¾‹</th></tr>
    <tr><td><code>--list</code></td><td>ç¾åœ¨ã®ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§ã‚’è¡¨ç¤º</td><td></td></tr>
    <tr><td><code>--count</code></td><td class="required">ç”Ÿæˆäººæ•°ï¼ˆç”Ÿæˆæ™‚å¿…é ˆï¼‰</td><td><code>--count 10</code></td></tr>
    <tr><td><code>--store</code></td><td class="optional">å‰²å½“åº—èˆ—ID</td><td><code>--store 6</code></td></tr>
    <tr><td><code>--type</code></td><td class="optional">é›‡ç”¨å½¢æ…‹</td><td><code>FULL_TIME</code> / <code>PART_TIME</code> / <code>CONTRACT</code></td></tr>
    <tr><td><code>--delete</code></td><td>å‰Šé™¤ãƒ¢ãƒ¼ãƒ‰</td><td></td></tr>
    <tr><td><code>--staff</code></td><td>å‰Šé™¤å¯¾è±¡ã®ã‚¹ã‚¿ãƒƒãƒ•ID</td><td><code>--staff 100,101</code></td></tr>
  </table>
</div>

<!-- ãƒ„ãƒ¼ãƒ«5: ãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ -->
<div class="tool-card">
  <h3>â‘¤ ãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ (reset-data.mjs)</h3>

  <p>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æ¡ä»¶æŒ‡å®šã§å‰Šé™¤ã—ã¾ã™ã€‚</p>

  <h4>å‰Šé™¤å¯¾è±¡ãƒ†ãƒ¼ãƒ–ãƒ«</h4>
  <table>
    <tr><th>ãƒ†ãƒ¼ãƒ–ãƒ«</th><th>å†…å®¹</th><th>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</th></tr>
    <tr><td><code>ops.shifts</code></td><td>ã‚·ãƒ•ãƒˆãƒ‡ãƒ¼ã‚¿</td><td>âœ…</td></tr>
    <tr><td><code>ops.shift_preferences</code></td><td>å¸Œæœ›ã‚·ãƒ•ãƒˆ</td><td>âœ…</td></tr>
    <tr><td><code>ops.shift_plans</code></td><td>ã‚·ãƒ•ãƒˆãƒ—ãƒ©ãƒ³</td><td>âœ…</td></tr>
    <tr><td><code>ops.notifications</code></td><td>é€šçŸ¥</td><td><code>--all</code>æ™‚ã®ã¿</td></tr>
    <tr><td><code>hr.payroll</code></td><td>çµ¦ä¸</td><td><code>--all</code>æ™‚ã®ã¿</td></tr>
  </table>

  <h4>åŸºæœ¬çš„ãªä½¿ã„æ–¹</h4>
  <pre><code># å‰Šé™¤å¯¾è±¡ã‚’ç¢ºèªï¼ˆ2025å¹´1æœˆåˆ†ï¼‰
node scripts/tools/reset-data.mjs --year 2025 --month 1

# å®Ÿéš›ã«å‰Šé™¤
node scripts/tools/reset-data.mjs --year 2025 --month 1 --execute

# ç‰¹å®šãƒ†ãƒ¼ãƒ–ãƒ«ã®ã¿å‰Šé™¤
node scripts/tools/reset-data.mjs --year 2025 --tables shifts,shift_preferences --execute

# å…¨ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼ˆãƒã‚¹ã‚¿ä»¥å¤–ï¼‰
node scripts/tools/reset-data.mjs --all --execute</code></pre>

  <h4>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</h4>
  <table>
    <tr><th>ã‚ªãƒ—ã‚·ãƒ§ãƒ³</th><th>èª¬æ˜</th><th>ä¾‹</th></tr>
    <tr><td><code>--year</code></td><td class="optional">å¯¾è±¡å¹´</td><td><code>--year 2025</code></td></tr>
    <tr><td><code>--month</code></td><td class="optional">å¯¾è±¡æœˆ</td><td><code>--month 1</code></td></tr>
    <tr><td><code>--store</code></td><td class="optional">åº—èˆ—ID</td><td><code>--store 6</code></td></tr>
    <tr><td><code>--tables</code></td><td class="optional">å¯¾è±¡ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰</td><td><code>--tables shifts,shift_plans</code></td></tr>
    <tr><td><code>--all</code></td><td class="optional">å…¨ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼ˆãƒã‚¹ã‚¿ä»¥å¤–ï¼‰</td><td></td></tr>
  </table>
</div>

<h2>ğŸ“ ã‚ˆãã‚ã‚‹ä½¿ã„æ–¹ã®ä¾‹</h2>

<div class="success">
  <h4>ã‚·ãƒŠãƒªã‚ª1: æ–°ã—ã„æœˆã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ</h4>
  <pre><code># 1. å¸Œæœ›ã‚·ãƒ•ãƒˆã‚’ç”Ÿæˆ
node scripts/tools/generate-random-preferences.mjs --year 2025 --month 2 --execute

# 2. ç¬¬1æ¡ˆã‚’ç”Ÿæˆ
node scripts/tools/generate-first-plan.mjs --year 2025 --month 2 --execute

# 3. å®Ÿç¸¾ã‚·ãƒ•ãƒˆã‚’ç”Ÿæˆ
node scripts/tools/generate-actual-shifts.mjs --year 2025 --month 2 --execute</code></pre>
</div>

<div class="success">
  <h4>ã‚·ãƒŠãƒªã‚ª2: ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—</h4>
  <pre><code># ç‰¹å®šæœˆã®ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤
node scripts/tools/reset-data.mjs --year 2025 --month 2 --execute</code></pre>
</div>

<div class="success">
  <h4>ã‚·ãƒŠãƒªã‚ª3: å¤§é‡ã®ã‚¹ã‚¿ãƒƒãƒ•ã§ãƒ†ã‚¹ãƒˆ</h4>
  <pre><code># 50äººã®ã‚¢ãƒ«ãƒã‚¤ãƒˆã‚’è¿½åŠ 
node scripts/tools/generate-staff.mjs --count 50 --type PART_TIME --execute

# ãƒ†ã‚¹ãƒˆå¾Œã«å‰Šé™¤ï¼ˆIDã‚’ç¢ºèªã—ã¦ã‹ã‚‰ï¼‰
node scripts/tools/generate-staff.mjs --list
node scripts/tools/generate-staff.mjs --delete --staff 100,101,102,... --execute</code></pre>
</div>

<h2>ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>

<div class="tool-card">
  <h4>Q: ã‚³ãƒãƒ³ãƒ‰ãŒå‹•ã‹ãªã„</h4>
  <p>A: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Ÿè¡Œã—ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
  <pre><code>cd /path/to/shift-scheduler-ai
node scripts/tools/xxx.mjs --help</code></pre>

  <h4>Q: DBã«æ¥ç¶šã§ããªã„</h4>
  <p>A: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ãƒ„ãƒ¼ãƒ«ã¯STGç’°å¢ƒï¼ˆRailwayï¼‰ã«ç›´æ¥æ¥ç¶šã—ã¾ã™ã€‚</p>

  <h4>Q: é–“é•ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¦ã—ã¾ã£ãŸ</h4>
  <p>A: ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ãƒªã‚¹ãƒˆã‚¢ã—ã¦ãã ã•ã„ã€‚</p>
  <pre><code># ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å–å¾—
pg_dump -h xxx -U postgres -d railway -F c -f backup.dump

# ãƒªã‚¹ãƒˆã‚¢
pg_restore -h xxx -U postgres -d railway --clean backup.dump</code></pre>
</div>

<hr>
<p style="text-align: center; color: #7f8c8d;">
  Last updated: 2024-11-27<br>
  Issue: <a href="https://github.com/The-botch/shift-scheduler-ai/issues/86">#86</a>
</p>

</body>
</html>
